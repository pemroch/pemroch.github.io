{"version":3,"sources":["webpack:///./src/app/cards/cards-list/cards-list.component.ts","webpack:///./src/app/cards/cards.component.ts","webpack:///./src/app/cards/cards.module.ts","webpack:///./src/app/cards/cards.service.ts","webpack:///./src/app/cards/delete-card-dialog/delete-card-dialog.component.ts","webpack:///./src/app/cards/tool-bar/tool-bar.component.ts"],"names":[],"mappings":"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","file":"cards-cards-module.js","sourcesContent":["import { Component, EventEmitter, Input, Output } from '@angular/core';\n\nimport { Card } from '@shared/models';\n\n@Component({\n    selector: 'app-cards-list',\n    template: `\n        <ng-container *ngFor=\"let card of this.cards; let i = index\">\n            <mat-card *ngIf=\"this.activeIndex === i\">\n                <mat-card-title>\n                    <span>{{ card.header }}</span>\n                    <button (click)=\"this.deleteCard.emit({ card: card, cards: this.cards})\" color=\"warn\" mat-icon-button>\n                        <mat-icon>delete</mat-icon>\n                    </button>\n                </mat-card-title>\n                <mat-card-content>{{ card.text }}</mat-card-content>\n                <mat-card-actions>\n                    <button (click)=\"this.previous.emit()\" [disabled]=\"i === 0\" color=\"warn\" mat-button>\n                        <mat-icon>arrow_back</mat-icon>\n                    </button>\n                    <button (click)=\"this.next.emit()\" [disabled]=\"i === this.cards.length - 1\" color=\"primary\" mat-button>\n                        <mat-icon>arrow_forward</mat-icon>\n                    </button>\n                </mat-card-actions>\n            </mat-card>\n        </ng-container>\n    `,\n    styles: [`\n        mat-card {\n            position: absolute;\n            top: 136px;\n            left: 24px;\n            right: 24px;\n            bottom: 16px;\n        }\n        mat-card-title {\n            display: flex;\n            place-items: center;\n            justify-content: space-between;\n        }\n        mat-card-content {\n            border-top: 1px solid #ddd;\n            overflow: auto;\n            padding: 16px 0px 16px;\n            position: absolute;\n            bottom: 72px;\n            top: 68px;\n            left: 24px;\n            right: 24px;\n        }\n        mat-card-actions {\n            background: white;\n            width: 100%;\n            border-top: 1px solid #ddd;\n            position: absolute;\n            margin-bottom: 0px !important;\n            left: 16px;\n            right: 16px;\n            bottom: 0px;\n            padding: 8px 0px 8px !important;\n            display: flex;\n            justify-content: space-evenly;\n        }\n        mat-card-actions > button {\n            width: 49%;\n            margin: 0px;\n        }\n        active {\n            display: block;\n        }\n        inActive {\n            display: none;\n        }\n    `]\n})\nexport class CardsListComponent {\n    @Input() cards: Card[];\n    @Input() activeIndex: number;\n\n    @Output() previous = new EventEmitter();\n    @Output() next = new EventEmitter();\n    @Output() deleteCard = new EventEmitter();\n}\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\n\nimport { map, switchMap } from 'rxjs/operators';\n\n\nimport { NgFireService } from '@shared/services';\nimport { Folder } from '@shared/models';\nimport { CoreService } from '@core/core.service';\n\nimport { CardsService } from './cards.service';\n\n@Component({\n    selector: 'app-cards',\n    template: `\n        <app-tool-bar [cards]=\"this.cards$ | async\" [title]=\"this.title$ | async\"></app-tool-bar>\n        <app-cards-list\n            [cards]=\"this.cards$ | async\"\n            [activeIndex]=\"this.cardsService.activeIndex$ | async\"\n            (previous)=\"this.cardsService.previous()\"\n            (next)=\"this.cardsService.next()\"\n            (deleteCard)=\"this.cardsService.deleteCard($event)\"\n        ></app-cards-list>\n    `,\n    providers: [CardsService]\n})\n\nexport class CardsComponent implements OnInit {\n    title$ = this.activatedRoute.params.pipe(\n        switchMap(params => this.ngFireService.loadDocument('folders', params.folderId)),\n        map((folder: Folder) => folder.folderName)\n    );\n\n    cards$ = this.activatedRoute.params.pipe(\n        switchMap(params => this.ngFireService.load1Condition('cards', 'folder.id', '==', params.folderId))\n    );\n\n    constructor(\n        private activatedRoute: ActivatedRoute,\n        private ngFireService: NgFireService,\n        private coreService: CoreService,\n        public cardsService: CardsService\n    ) { }\n\n    ngOnInit() {\n        this.coreService.toolbarTitle$.next('Cards');\n    }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { MatButtonModule, MatCardModule, MatDialogModule, MatIconModule, MatToolbarModule } from '@angular/material';\nimport { RouterModule } from '@angular/router';\n\nimport { CardsComponent } from './cards.component';\nimport { ToolBarComponent } from './tool-bar/tool-bar.component';\nimport { CardsListComponent } from './cards-list/cards-list.component';\nimport { DeleteCardDialogComponent } from './delete-card-dialog/delete-card-dialog.component';\n\n@NgModule({\n    imports: [\n        CommonModule,\n        MatButtonModule,\n        MatCardModule,\n        MatDialogModule,\n        MatIconModule,\n        MatToolbarModule,\n        RouterModule.forChild([\n            { path: ':folderId', component: CardsComponent }\n        ])\n    ],\n    declarations: [\n        CardsComponent,\n        ToolBarComponent,\n        CardsListComponent,\n        DeleteCardDialogComponent\n    ],\n    entryComponents: [DeleteCardDialogComponent]\n})\nexport class CardsModule { }\n","import { Injectable } from '@angular/core';\nimport { MatDialog } from '@angular/material';\n\nimport { firestore } from 'firebase/app';\nimport { BehaviorSubject } from 'rxjs';\n\nimport { NgFireService } from '@shared/services';\nimport { Card } from '@shared/models';\n\nimport { DeleteCardDialogComponent } from './delete-card-dialog/delete-card-dialog.component';\n\n@Injectable()\nexport class CardsService {\n    activeIndex$ = new BehaviorSubject<number>(0);\n\n    constructor(\n        private matDialog: MatDialog,\n        private ngFireService: NgFireService\n    ) { }\n\n    previous() {\n        this.activeIndex$.next(this.activeIndex$.getValue() - 1);\n    }\n\n    next() {\n        this.activeIndex$.next(this.activeIndex$.getValue() + 1);\n    }\n\n    deleteCard(data: {card: Card, cards: Card[]}) {\n        this.matDialog.open(DeleteCardDialogComponent)\n        .afterClosed()\n        .subscribe(confirm => {\n            if (confirm) {\n                const batch = firestore().batch();\n                const folder = {\n                    cardsLength: data.card.folder.cardsLength - 1,\n                    folderName: data.card.folder.folderName,\n                    id: data.card.folder.id,\n                    userUid: data.card.folder.userUid,\n                };\n\n                data.cards.forEach(card => {\n                    if (card.id !== data.card.id) {\n                        const cardRef = firestore().collection('cards').doc(card.id);\n                        batch.update(cardRef, { folder: folder });\n                    }\n                });\n\n                this.activeIndex$.next(\n                    (this.activeIndex$.getValue() === (data.cards.length - 1)) ? (data.cards.length - 2) : this.activeIndex$.getValue()\n                );\n\n                this.ngFireService.update('folders', data.card.folder.id, { cardsLength: folder.cardsLength });\n                this.ngFireService.delete('cards', data.card.id);\n                batch.commit();\n            }\n        });\n    }\n\n}\n","import { Component } from '@angular/core';\n\n@Component({\n    selector: 'app-delete-card-dialog',\n    template: `\n        <h2 mat-dialog-title>Confirm Delete</h2>\n        <mat-dialog-content>Are you sure you want to delete this card?</mat-dialog-content>\n        <mat-dialog-actions>\n            <button color=\"warn\" mat-dialog-close mat-button>Cancel</button>\n            <button color=\"primary\" [mat-dialog-close]=\"true\" mat-button>Confirm</button>\n        </mat-dialog-actions>\n    `,\n    styles: [`\n        mat-dialog-actions {\n            justify-content: flex-end;\n            margin-top: 8px;\n        }\n    `]\n})\nexport class DeleteCardDialogComponent { }\n","import { Component, Input } from '@angular/core';\n\n@Component({\n    selector: 'app-tool-bar',\n    template: `\n        <mat-toolbar class=\"mat-elevation-z4\">\n            <button routerLink=\"/app/folders\" color=\"primary\" mat-icon-button>\n                <mat-icon>arrow_back</mat-icon>\n            </button>\n            <span id=\"title\">{{ this.cards.length ? this.title : 'No Cards In Folder' }}</span>\n            <span id=\"spacer\"></span>\n        </mat-toolbar>\n    `,\n    styles: [`\n        mat-toolbar {\n            background: #ECEFF1;\n            display: flex;\n            justify-content: space-between;\n            z-index: 1;\n            position: absolute;\n        }\n        #title {\n            opacity: 0.6;\n        }\n        #space {\n            width: 40px;\n        }\n    `]\n})\nexport class ToolBarComponent {\n    @Input() title: string;\n    @Input() cards: string;\n}\n"],"sourceRoot":""}